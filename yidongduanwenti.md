


### 2.3提示文本

背景描述：<br/>
　　*小朱同学纠结完浮层的问题之后，小朱同学开始滑动浏览界面上，却听到一些“按钮77”“按钮64 未加标签”“按钮99 未加标签”的提示，在选车的时候也没有提示控件类型，无法得知车型是否已选择。提示文本是屏幕阅读器可以提取，并通过语音反馈给用户的说明性文本，包括控件类型、操作目的等内容，要求提示文本简介明了，但有很多控件的控件类型不提示、目的文本为乱码，也有冗余的现象。根据使用经验，小朱同学还是顺利打到车回到家。但是小朱同学希望，更多的互联网产品可以进行无障碍优化。身为视障工程师，小朱不认为是命运不公，却也总希望能为自己公平的享受现代科技带来的便利。*<br/>
#### 2.3.1没有提示文本
![](/22.png)<br/>
图22 没有提示文本【示例】<br/>
【问题描述】<br/>
控件没有提示文本， 用户无法知道此控件是做什么的。 有几种表现：<br/> 1、 控件能获得焦点但是不读任何信息， 如邮箱大师添加邮箱的qq邮箱。<br/> 2、 控件获得焦点只朗读控件类型，如朗读为：”按钮“、 ”x未标记的按钮“（x是一个随机数）。<br/>
【可能原因】<br/>
1、 android<br/>
图形按钮没有添加contentdescription属性；<br/>
2、 ios<br/>
图形按钮没有添加标签或者提示；<br/>
【修改建议】<br/>
1、android：<br/>
给图形按钮添加contentdescription属性并给此属性赋适当的值；<br/>
2、 ios<br/>
给图形按钮添加标签和提示属性；
#### 2.3.2提示文本有乱码
![](/23.png)<br/>
图23 提示文本有乱码【示例】<br/>
【问题描述】<br/>
控件获得焦点的时候， 控件的提示文本朗读为乱码、 朗读控件提示文本之前朗读一段乱码、 提示文本的尾部有一段乱码或者在提示文本中间有乱码。<br/>
【可能原因】<br/>
【修改建议】<br/>
#### 2.3.3控件类型不能正常朗读
![](/24.png)<br/>
图24 空间类型不能正常朗读【示例】<br/>
【问题描述】<br/>
控件的类型不提示或者控件类型提示不正确， 用户不知道如何操作此控件， 这种情况主要出现在自定义控件上；<br/>
【可能原因】<br/>
自定义控件的无障碍支持不全面；<br/>
【修改建议】<br/>
android：<br/>
在任何一种情况下，为您的自定义视图类您应该执行下面的可访问性方法：<br/>
```
dispatchPopulateAccessibilityEvent()
onPopulateAccessibilityEvent()
onInitializeAccessibilityEvent()
onInitializeAccessibilityNodeInfo()```

通常是在onInitializeAccessibilityEvent() 方法中提供类名（控件类型）。<br/>
#### 2.3.4提示文本有冗余信息、 提示文本错误
![](/25.png)<br/>
图25 提示文本有冗余信息【示例】<br/>
【问题描述】<br/>
控件的提示文本有冗余； 控件的提示文本与控件的实际目的不相符；<br/>
【可能原因】<br/>
1.	给控件提供提示文本或替代文本时文本不够精炼准；<br/>
2.	提供了一些不必要的信；<br/>【修改建议】<br/>
1、给控件提供文本或者替代文本时要精炼准确；<br/>
2、去掉这些不必要的信息。<br/>
